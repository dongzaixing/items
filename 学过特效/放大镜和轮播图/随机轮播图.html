<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			html,ul,li{
				margin: 0;
				padding: 0;
			}
			ul li {
				list-style: none;
			}
			#box{/*最大的div，将大的div切割成24个小的li，li是在js里面创建的*/
				width:750px;
				height:500px;
				margin: 50px auto;
				border: 1px solid gray;
				position: relative;
			}
			a{/*左右按钮*/
				display: block;
				text-decoration: none;/*a标签下划线去掉*/
				width: 50px;
				height: 50px;
				line-height: 50px;
				text-align: center;
				position: absolute;
				top: 50%;
				margin-top: -25px;
				background: #000;
				opacity: .4;
				color: #fff;
				font-size: 30px;
			}
			#left{
				left: 0;
			}
			#right{
				right: 0;
			}
			#oul li{
				float: left;
				width:125px;
				height:125px;
				box-shadow: 0 0 1px #C0C0C0;
				background: url(img/15.jpg);/*添加背景图片，用添加背景图片来实现轮播图*/
				background-size: 750px 500px;/*设置背景图片跟最大的div宽高一样*/
			}
		</style>
	</head>
	<body>
		<div id="box">
			<ul id="oul"></ul>
			<a href="javascript:;" id="left">&lt;</a>
			<a href="###" id="right">&gt;</a>
		</div>
	</body>
	<script type="text/javascript">
		var oul=document.getElementById("oul");
		var oli=document.getElementsByTagName("li");
		var zuo=document.getElementById("left");
		var you=document.getElementById("right");
		
		var num=1;

		//用for循环去添加li标签，在css里面写li的样式
		for(var i=0;i<4;i++){//第一个循环表示行数
			for(var j=0;j<6;j++){//第二个循环表示列数
				var li=document.createElement("li");
				li.style.backgroundPosition=j*-125+"px "+i*-125+"px";//给每个li标签的背景图片定位.
				oul.appendChild(li);
			};
		};
		//点击事件
		zuo.onclick=function(){
			clearInterval(time);
			num--;
			if(num<1){
				num=19;
			};
			arrs();	
		};
		you.onclick=function(){
			clearInterval(time);
			num++;
			if(num>19){
				num=1;
			};
			arrs();
		};
		//遍历每一个li
		function arrs(){
			
			var arr=[];//创建数组保存随机数
			for(var i=0;i<24;i++){
				arr.push(i);//储存数字0-23
			};
			var time=setInterval(function(){
				var a=Math.floor(Math.random()*arr.length);//获取0-23的随机数
				oli[arr[a]].style.backgroundImage='url(img/'+num+'.jpg)';//给每个标签添加背景图片
				arr.splice(a,1);//删除数组中使用后的随机数
				if(arr.length==0){
					clearInterval(time);//当数组为空的时候停止计时器
				};
			},30);
		};

		
		time=setInterval(func,2000)
		function func(){
			num++;
			if(num>19){
				num=1;
			}else if(num<1){
				num=19;
			}
			arrs();
		}
		
	</script>
</html>
