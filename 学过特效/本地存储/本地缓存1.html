<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
		
		<style type="text/css">
			
			/*.box{
				max-width:1000px;
				overflow: hidden;
				background: pink;
				
				
			}*/
			*{
				margin: 0;
				padding: 0;
			}
			.box1{
				width:200px;
				height:100px;
				background: red;
				float: left;
			}
			.box2{
				height:100px;
				margin: 0 100px 0 200px;
				background: blue;
				word-break: break-word;
			}
			.box3{
				width: 100px;
				height:100px;
				background: green;
				float: right;
			}
		</style>
	</head>
	<body>
		<input type="checkbox" name="" id="" value="香蕉" />香蕉<br />
		<input type="checkbox" name="" id="" value="苹果" />苹果<br />
		<input type="checkbox" name="" id="" value="雪梨" />雪梨<br />
		<input type="checkbox" name="" id="" value="西瓜" />西瓜<br />
		<input type="checkbox" name="" id="" value="橙子" />橙子<br />
		<!--<div class="box">
			<div class="box1">我是我是我是我是我是我是我是我是我是我是我是</div>
			<div class="box2">dfsdfsdfsfsdfsddfsdfsdfsfsdfsd</div>
			<div class="box3">我是我是我是我是我是我是我是我是我是我是我是</div>
		</div>-->
	
		<script type="text/javascript">
	
			var ipt=document.getElementsByTagName('input');
			for(var i=0;i<ipt.length;i++){
				ipt[i].onclick=function(){
					if(this.checked){
						window.localStorage.setItem('sel',this.value)
					}else{
						window.localStorage.setItem('onsel',this.value)
					}
				}
			}
			window.addEventListener('storage',function(ev){
				if(ev.key=='sel'){
					for(var i=0;i<ipt.length;i++){
						if(ev.newvalue==ipt[i].value){
							ipt[i].checked=true;
						}
					}
				}else if(ev.key=='onsel'){
					for(var i=0;i<ipt.length;i++){
						if(ev.newvalue==ipt[i].value){
							ipt[i].checked=false;
						}
					}
				}
			})
			
			
		</script>
	</body>
</html>

